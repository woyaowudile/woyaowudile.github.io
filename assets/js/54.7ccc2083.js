(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1071:function(t,s,a){"use strict";a.r(s);var e=a(36),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一-linux安装环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-linux安装环境"}},[t._v("#")]),t._v(" 一. linux安装环境")]),t._v(" "),a("h3",{attrs:{id:"获取管理员权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取管理员权限"}},[t._v("#")]),t._v(" 获取管理员权限")]),t._v(" "),a("blockquote",[a("p",[t._v("sudo su root")])]),t._v(" "),a("h3",{attrs:{id:"安装linux工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装linux工具"}},[t._v("#")]),t._v(" 安装linux工具")]),t._v(" "),a("blockquote",[a("p",[t._v("例如安装node：wget https://nodejs.org/dist/v12.14.1/node-v12.14.1-linux-arm64.tar.gz "),a("br"),t._v("\n目前 deepin15 : apt-get install node / apt-get install git")])]),t._v(" "),a("h3",{attrs:{id:"安装完后-需要解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装完后-需要解压"}},[t._v("#")]),t._v(" 安装完后，需要解压")]),t._v(" "),a("blockquote",[a("p",[t._v("tar xvf  node-v12.14.1-linux-arm64.tar.gz")])]),t._v(" "),a("h3",{attrs:{id:"修改文件名字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改文件名字"}},[t._v("#")]),t._v(" 修改文件名字")]),t._v(" "),a("blockquote",[a("p",[t._v("mv node-v12.14.1-linux-arm64 node-v12.14.1")])]),t._v(" "),a("h3",{attrs:{id:"将node移动到某个文件夹中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将node移动到某个文件夹中"}},[t._v("#")]),t._v(" 将node移动到某个文件夹中")]),t._v(" "),a("blockquote",[a("p",[t._v("mv  /root /node-v12.14.1-1.0/  /usr/sbin/")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("（mv 既能修改名字也能做move用）")])]),t._v(" "),a("h2",{attrs:{id:"二-设置服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-设置服务器"}},[t._v("#")]),t._v(" 二. 设置服务器")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{target:"_blank",href:"https://www.jianshu.com/p/7dc15bc448c7"}},[t._v(" 原文地址 ")])])]),t._v(" "),a("h3",{attrs:{id:"_1-开启ssh服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-开启ssh服务"}},[t._v("#")]),t._v(" 1. 开启ssh服务")]),t._v(" "),a("blockquote",[a("p",[t._v("查看是否有ssh服务：ssh localhost")]),t._v(" "),a("blockquote",[a("p",[t._v("若出现：“ssh：connect to host localhost port 22: Connection refused”，则表明未安装 "),a("br")])])]),t._v(" "),a("blockquote",[a("p",[t._v("安装：sudo apt-get install openssh-server")]),t._v(" "),a("blockquote",[a("p",[t._v("安装完成后，重新输入ssh localhost, 如果出现提示都选择yes "),a("br")])])]),t._v(" "),a("blockquote",[a("p",[t._v("查看是否开启ssh：ps -e|grep ssh")]),t._v(" "),a("blockquote",[a("p",[t._v("输入密码后，有显示 sshd 表示成功"),a("br"),t._v("\n未成功：sudo /etc/init.d/ssh start"),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"_2-putty连接服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-putty连接服务器"}},[t._v("#")]),t._v(" 2. putty连接服务器")]),t._v(" "),a("blockquote",[a("image-preview",{attrs:{imgUrl:"web/linux/putty.png",width:"200"}}),t._v(" "),a("image-preview",{attrs:{imgUrl:"web/linux/putty-login.png",width:"200"}}),t._v(" "),a("p",[t._v("设置超时时间")]),t._v(" "),a("blockquote",[a("p",[t._v("putty静置一段时间后，会提示连接错误"),a("br"),t._v(" "),a("image-preview",{attrs:{imgUrl:"web/linux/putty-error.png",width:"200"}}),t._v(" "),a("image-preview",{attrs:{imgUrl:"web/linux/putty-timeout.png",width:"200"}})],1)])],1),t._v(" "),a("h3",{attrs:{id:"_3-挂起任务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-挂起任务"}},[t._v("#")]),t._v(" 3. 挂起任务")]),t._v(" "),a("blockquote",[a("p",[t._v("在终端运行一个程序,会占用终端,无法做其他事情")]),t._v(" "),a("blockquote",[a("image-preview",{attrs:{imgUrl:"web/linux/putty-jobs-1.png",width:"200"}})],1),t._v(" "),a("p",[t._v("可以通过 ctrl + Z 挂起, 且可以通过jobs查看所有挂起的任务")]),t._v(" "),a("blockquote",[a("image-preview",{attrs:{imgUrl:"web/linux/putty-jobs-2.png",width:"200"}}),t._v(" "),a("p",[t._v("bg %[number] 启动停止的任务"),a("br"),t._v("\nfg %[number], 将后台任务放到前台运行"),a("br"),t._v("\nkill %[number] 或者 jobs -l 获取到pid, 然后kill pid"),a("br")])],1)]),t._v(" "),a("br"),t._v(" "),a("blockquote",[a("p",[t._v("nohup (cz挂起的任务,关闭终端后会被终止)")]),t._v(" "),a("blockquote",[a("p",[t._v("nohup npm run serve > log.file 2>&1 &"),a("br"),t._v(" "),a("image-preview",{attrs:{imgUrl:"web/linux/nohup-1.png",width:"200"}}),t._v("\n查看: ps -ef|grep node , 关闭: kill + 端口"),a("br"),t._v("\n查看: ps -aux|grep node , 效果同上,相差不大"),a("br"),t._v(" "),a("image-preview",{attrs:{imgUrl:"web/linux/nohup-kill.png",width:"200"}})],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("实时查看输出日志:")]),t._v(" "),a("blockquote",[a("p",[t._v("tail -f log.file. "),a("br"),t._v("\n退出ctrl + c. 也可以挂起, 同jobs")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("nohup挂起后, 退出putty 使用命令 exit")])]),t._v(" "),a("h3",{attrs:{id:"_4-内网穿透"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-内网穿透"}},[t._v("#")]),t._v(" 4. 内网穿透")]),t._v(" "),a("blockquote",[a("p",[t._v("如果linux使用的wifi，外部访问l会提示连接不上"),a("br"),t._v("\n原因：只有局域网内的设备才能互ping"),a("br"),t._v("\n办法：使用内网穿透，也就是端口映射到外网上去")]),t._v(" "),a("blockquote",[a("p",[t._v("这里使用的是ngrok,"),a("a",{attrs:{target:"_blank",href:"https://ngrok.com/download"}},[t._v("linux的电脑访问ngrok")]),t._v(",按说明安装即可\n"),a("br")])])]),t._v(" "),a("blockquote",[a("p",[t._v("配置隧道")])]),t._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1. 设置 ngrok 隧道：（/root/.ngrok2/ngrok.yml）auth_token也在该文件中\n\n\ntunnels:\n    tunnel1:\n        addr: 22\n        proto: tcp\n    tunnel2:\n        addr: 3333\n        proto: http\n        -bing-tls: false \n        // false: 只使用http，true：只使用https\n        // 不配置就二者都有，免费版只有4个隧道，例如3333就会占用2个隧道\n    tunnel3:\n        addr: 8080\n        proto: http\n        -bing-tls: false \n\n2. 启动\nngrok start --all // 启动所有端口\nngrok start tunnel1 tunnel2 // 启动指定端口\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);